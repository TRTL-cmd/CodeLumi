2026-01-25 Update

Summary
- Resolved TypeScript module resolution issues and added missing learning modules (`src/core/learning/extractor.ts`, `validator.ts`).
- Normalized NodeNext-style `.js` import specifiers where needed and added a small ambient declaration to help editor resolution.
- Implemented learning pipeline improvements:
  - `SignalProcessor` auto-merges validated candidates to `training/lumi_knowledge.json`.
  - `lumi-log-assistant` IPC to persist assistant replies as candidate entries.
  - Renderer `Mark helpful` UI action to accept and save assistant replies.
  - Learning toast notifications in renderer (auto-dismiss 3s) and console logs for visibility.
- Added a basic metrics dashboard (total KB, learning events today, events/hr) with `lumi-metrics` IPC and periodic polling in renderer.
- Improved memory viewer rendering and export helpers.

Next steps
- Add learning dashboard listing merged items and a human review queue.
- Implement deduplication/merge heuristics (embedding + fuzzy matching) and `merged_from` metadata.
- Add implicit-feedback detection (dwell/no-followup heuristics) and batch merge + retrain schedule.
- Update README/roadmaps/checklists and finalize daily logs.

Stopped tonight (state at end-of-day)
- Completed: scaffolded learning modules, implemented `lumi-log-assistant`, added `Mark helpful` UI, metrics surface, and conservative auto-merge into `training/lumi_knowledge.json` (exact-match dedupe only).
- Paused: embedding/fuzzy deduplication, review queue UI, nightly merge + retrain orchestration. These are required before increasing auto-merge aggressiveness.

Immediate priorities for next session
1. Implement deduplication and `merged_from` provenance metadata.
2. Build the human review queue and wire accept/reject flows.
3. Add unit tests for dedupe and metrics; add a dev script for metrics validation.

Dev notes
- If VS Code shows TS2307 after these edits, restart the TypeScript server (Command Palette → "TypeScript: Restart TS Server") to clear stale diagnostics.
- Chromium/Electron cache/GPU warnings are common in dev; start Electron with `--user-data-dir=./.chromedata` or `--disable-gpu` flags if needed.

Files changed
- `src/core/learning/*` — extractor/validator/processor updates
- `src/main.ts`, `src/preload.ts` — new IPC handlers (`lumi-metrics`, `lumi-log-assistant`)
- `index.html` — renderer: metrics panel, mark-helpful UI, toast behavior, memory viewer formatting

Signed-off-by: automated patcher
